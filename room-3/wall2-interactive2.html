<!DOCTYPE html><!--  This site was created in Webflow. https://webflow.com  --><!--  Last Published: Thu Feb 06 2025 18:32:59 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="665f7634c00ddb7ece8975a4" data-wf-site="656660cb808a92be1eef2a99">
<head>
  <meta charset="utf-8">
  <title>wall2-interaction2_</title>
  <meta content="wall2-interaction2_" property="og:title">
  <meta content="wall2-interaction2_" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="../css/normalize.css" rel="stylesheet" type="text/css">
  <link href="../css/webflow.css" rel="stylesheet" type="text/css">
  <link href="../css/irex-intaractives.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="../images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="../images/webclip.png" rel="apple-touch-icon">
  <style>
::selection {background: #FD92FE; color: #262731; text-shadow: none;}
</style>
</head>
<body class="body-int">
  <div class="div-block-499">
    <div class="div-block-500">
      <div class="div-block-501">
        <div class="text-block-33">–ù–∞—à –º–æ–∑–æ–∫ –æ–±—Ä–æ–±–ª—è—î –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–Ω–∞—á–Ω–æ —à–≤–∏–¥—à–µ, –Ω—ñ–∂ —Ç–µ–∫—Å—Ç. –¢–æ–º—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó —Ç–∞ –≤—ñ–¥–µ–æ ‚Äì <span class="text-span-15">–∞–∫—Ç–∏–≤–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—ó.</span></div>
      </div>
      <div>
        <div data-current="Tab 1" data-easing="ease" data-duration-in="300" data-duration-out="100" class="w-tabs">
          <div class="tabs-menu w-tab-menu">
            <a data-w-tab="Tab 1" class="tab-link-tab-1-copy submit_btn w-inline-block w-tab-link w--current">
              <div class="text-block-34">–Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ–æ—Ç–æ?</div>
            </a>
            <a data-w-tab="Tab 2" class="tab-link-tab-2-copy submit_btn w-inline-block w-tab-link">
              <div class="text-block-34">–Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—ñ–¥–µ–æ?</div>
            </a>
          </div>
          <div class="tabs-content w-tab-content">
            <div data-w-tab="Tab 1" class="tab-pane-tab-1 w-tab-pane w--tab-active">
              <ul role="list" class="list-6-copy">
                <li>–ü–æ—á–Ω–∏ –∑ –ø–æ—à—É–∫—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó —á–µ—Ä–µ–∑ —Å–ª—É–∂–±—É &quot;Google –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è&quot;. –ó–≤–µ—Ä–Ω–∏ —É–≤–∞–≥—É –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –¥–æ–¥–∞–Ω–∏—Ö –¥–µ—Ç–∞–ª–µ–π —ñ –∑–Ω–∞–π–¥–∏ –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª–æ–º.</li>
                <li>–¢–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—à –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Å–ª—É–∂–±—É –ø–æ—à—É–∫—É –∑–æ–±—Ä–∞–∂–µ–Ω—å Tineye (tineye.com). –¶–µ–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ–ø–æ–º–æ–∂–µ –≤–∏–∑–Ω–∞—á–∏—Ç–∏, –¥–µ —ñ –∫–æ–ª–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è –±—É–ª–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ –≤–ø–µ—Ä—à–µ.</li>
                <li>–§–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó –º–æ–∂–Ω–∞ —Ç–∞–∫–æ–∂ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –Ω–∞ —Å–∞–π—Ç—ñ fotoforensics.com. –§—É–Ω–∫—Ü—ñ—è ELA (Error Level Analysis) –∞–Ω–∞–ª—ñ–∑—É—î —Ä—ñ–≤–µ–Ω—å —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, —è–∫–∏–π –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó –º–∞—î –±—É—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–º.</li>
                <li>–î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –º—ñ—Å—Ü–µ–≤–æ—Å—Ç—ñ –Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó, –æ—Å–æ–±–ª–∏–≤–æ, —è–∫—â–æ –Ω–æ–≤–∏–Ω–∞ –∑–≥–∞–¥—É—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –ª–æ–∫–∞—Ü—ñ—é, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π Google Street View.</li>
                <li>–£ –¥–µ—è–∫–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é –º–æ–∂–µ –±—É—Ç–∏ –≤–±—É–¥–æ–≤–∞–Ω–∞ –≤ –º–µ—Ç–∞–¥–∞–Ω—ñ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó. –©–æ–± —ó—ó –¥—ñ–∑–Ω–∞—Ç–∏—Å—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π —Ä–µ—Å—É—Ä—Å–∏, —è–∫—ñ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–æ–±—Ä–∞–∂–µ–Ω—å (EXIF), –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, exif.regex.info.</li>
                <li>–ö—Ä—ñ–º –∑–≥–∞–¥–∞–Ω–∏—Ö –≤–∏—â–µ –º–µ—Ç–æ–¥—ñ–≤, —è–∫—â–æ —Ç–∏ —Å—É–º–Ω—ñ–≤–∞—î—à—Å—è, —á–∏ –Ω–µ –ø—Ä–∏—á–µ—Ç–Ω–∏–π –¥–æ —Ñ–æ—Ç–æ –®–Ü, –∑–≤–µ—Ä—Ç–∞–π —É–≤–∞–≥—É –Ω–∞ –¥–µ—Ç–∞–ª—ñ: –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω—ñ—Å—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ –Ω–∞ —Ñ–æ—Ç–æ, –ø—Ä–∞–≤–¥–æ–ø–æ–¥—ñ–±–Ω—ñ—Å—Ç—å —á–∞—Å—Ç–∏–Ω —Ç—ñ–ª–∞ —É –ª—é–¥–∏–Ω–∏, —è–∫—ñ—Å—Ç—å –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ —Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω—ñ—Å—Ç—å –æ–±&#x27;—î–∫—Ç—ñ–≤ –Ω–∞ —Ç–ª—ñ.</li>
              </ul>
            </div>
            <div data-w-tab="Tab 2" class="tab-pane-tab-2 w-tab-pane">
              <div class="div-block-505">
                <div class="div-block-502">
                  <div class="text-block-46">–í—ñ–¥–µ–æ—Ñ–µ–π–∫–∏ —Ä–æ–∑–ø—ñ–∑–Ω–∞—Ç–∏ –∑–Ω–∞—á–Ω–æ –≤–∞–∂—á–µ. –Ø–∫—â–æ —Ç–æ–±—ñ –∑–¥–∞—î—Ç—å—Å—è, —â–æ –≤—ñ–¥–µ–æ –Ω–µ–ø—Ä–∞–≤–¥–∏–≤–µ, –∑–≤–µ—Ä–Ω–∏—Å—è –¥–æ —Ç–∞–∫–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤:</div>
                </div>
                <ul role="list" class="list-6-copy">
                  <li>–Ø–∫—â–æ —Ç–∏ –¥–∏–≤–∏—à—Å—è –≤–±—É–¥–æ–≤–∞–Ω–µ –≤—ñ–∫–Ω–æ YouTube –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω—å–æ–º—É —Ä–µ—Å—É—Ä—Å—ñ, –ø–µ—Ä–µ–π–¥–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É YouTube, —â–æ–± –æ–¥–µ—Ä–∂–∞—Ç–∏ –ø—Ä–æ –≤—ñ–¥–µ–æ –±—ñ–ª—å—à–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó.</li>
                  <li>–ó–∞–≤–∂–¥–∏ —à—É–∫–∞–π –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π —Ä–æ–ª–∏–∫, —á–∏—Ç–∞–π –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –ø—ñ–¥ –Ω–∏–º, –¥—ñ–∑–Ω–∞–≤–∞–π—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ –∞–≤—Ç–æ—Ä–∞ —Ç–∞ –ø–æ–¥—ñ—é, —è–∫—É –æ–±–≥–æ–≤–æ—Ä—é—é—Ç—å.</li>
                </ul>
                <div class="div-block-458">
                  <div class="text-block-24">–Ø–∫—â–æ —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ –Ω–µ —Ç–∞–∫ –±–∞–≥–∞—Ç–æ, —Ç–æ –≤ —Ç–µ–±–µ –∑–∞–≤–∂–¥–∏ —î –∞—Ä—Å–µ–Ω–∞–ª –∑ –∫—Ä–∏—Ç–∏—á–Ω–æ–≥–æ –º–∏—Å–ª–µ–Ω–Ω—è —ñ –Ω–∞–≤–∏—á–æ–∫ —Ä–æ–∑–≤—ñ–¥–Ω–∏–∫–∞ <span class="text-span-16">üôÇ</span></div>
                  <div class="div-block-460">
                    <div class="text-block-23">!</div>
                  </div>
                </div>
                <div>
                  <div class="text-block-47"><span class="title-answer"><strong>–í—ñ–¥–µ–æ–¥–µ—Ç–∞–ª—ñ</strong></span><br>–ó–≤–µ—Ä—Ç–∞–π —É–≤–∞–≥—É –Ω–∞ –¥–µ—Ç–∞–ª—ñ: –Ω–∞–∑–≤–∏ –æ–±‚Äô—î–∫—Ç—ñ–≤, –∞–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω—ñ –Ω–æ–º–µ—Ä–∏, –≤—É–ª–∏—á–Ω—ñ —Ç–∞–±–ª–∏—á–∫–∏, –ª—é–¥–µ–π –¥–æ–≤–∫–æ–ª–∞, –±—É–¥—ñ–≤–ª—ñ. –ü–æ –Ω–∏—Ö —á–∞—Å—Ç–æ –º–æ–∂–Ω–∞ –≤–∏–∑–Ω–∞—á–∏—Ç–∏, –ø—Ä–æ —â–æ –≤ –¥—ñ–π—Å–Ω–æ—Å—Ç—ñ –π–¥–µ—Ç—å—Å—è —ñ —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è.</div>
                </div>
                <div>
                  <div class="text-block-47"><span class="title-answer"><strong>–°–≤—ñ–¥—á–µ–Ω–Ω—è –æ—á–µ–≤–∏–¥—Ü—ñ–≤</strong></span><br>–ß–∞—Å—Ç–æ —Å–≤—ñ–¥—á–µ–Ω–Ω—è –æ—á–µ–≤–∏–¥—Ü—ñ–≤ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–∞–∂–∫–æ –∞–±–æ –Ω–µ–º–æ–∂–ª–∏–≤–æ, –ø—Ä–æ—Ç–µ —Å–ø—Ä–æ–±—É–π –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —ó—Ö —Å–ª–æ–≤–∞. –ß–∏ —î –≤ —ó—Ö–Ω—ñ–π –º–æ–≤—ñ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ç–∏—Ö —Ç–µ–∑, —è–∫—ñ –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è –¥–æ–Ω–µ—Å—Ç–∏ –∂—É—Ä–Ω–∞–ª—ñ—Å—Ç–∏, —á–∏ –≤–æ–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç—å –ø—Ä–æ –∑–∞–≥–∞–ª—å–Ω—ñ —Ä–µ—á—ñ, —è–∫—ñ –ó–ú–Ü –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∑—ñ —Å–≤–æ—î—é –º–µ—Ç–æ—é.</div>
                </div>
                <div>
                  <div class="text-block-47"><span class="title-answer"><strong>–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞—Ö—ñ–¥–Ω–∏—Ö –ó–ú–Ü</strong></span><br>–ù–µ –≤—Å—ñ –∑–∞—Ö—ñ–¥–Ω—ñ –ó–ú–Ü —Ç—Ä–∞–Ω—Å–ª—é—é—Ç—å –ø—Ä–∞–≤–¥—É! –ê–ª–µ –Ω–∞ —Ü—ñ –º–µ–¥—ñ–∞ —á–∞—Å—Ç–æ –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è –¥–ª—è –ø–æ—Å–∏–ª–µ–Ω–Ω—è –¥—ñ—ó —Ñ–µ–π–∫—É. –¢–æ–º—É —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äì –∑–≤—ñ—Å–Ω–æ, –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π –ø–µ—Ä–µ–∫–ª–∞–¥–∞—á, —â–æ–± —Ö–æ—á–∞ –± —Ç—Ä—ñ—à–∫–∏ –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –∑–º—ñ—Å—Ç.</div>
                </div>
                <div>
                  <div class="text-block-47"><span class="title-answer"><strong>–í—ñ–¥–µ–æ, –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–µ –®–Ü</strong></span><br>–ó–≤–µ—Ä—Ç–∞–π —É–≤–∞–≥—É –Ω–∞ –Ω–µ–∑–≤–∏—á–Ω—ñ —Ä—É—Ö–∏ —Ç—ñ–ª–∞: –∑–∞–Ω–∞–¥—Ç–æ –ø–æ–≤—ñ–ª—å–Ω—ñ —á–∏ —à–≤–∏–¥–∫—ñ. –†–æ–∑–º–∏—Ç—ñ—Å—Ç—å —Ç–∞ –ø—ñ–∫—Å–µ–ª—ñ–∑–∞—Ü—ñ—è —É –ø–µ–≤–Ω–∏—Ö —á–∞—Å—Ç–∏–Ω–∞—Ö —Ç–∞–∫–æ–∂ –ø—ñ–¥–∫–∞–∂—É—Ç—å, —â–æ –≤—ñ–¥–µ–æ –Ω–µ—Å–ø—Ä–∞–≤–∂–Ω—î. –ù–µ—Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω—ñ –∑–≤—É–∫–∏ —á–∏ –≥–æ–ª–æ—Å–∏ —ñ–∑ –∑–º—ñ–Ω–µ–Ω–∏–º —Ç–µ–º–±—Ä–æ–º, —è–∫—ñ –Ω–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ñ –ª—é–¥–∏–Ω—ñ –∑ –≤—ñ–¥–µ–æ. –¢–∞–∫–æ–∂ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–µ –≤—ñ–¥–µ–æ —á–∞—Å—Ç–æ –º–∞—î –Ω–µ—Ç–∏–ø–æ–≤–∏–π —Ñ–æ—Ä–º–∞—Ç, –ø–µ—Ä–µ–≤—ñ—Ä—è–π —Ç–µ—Ö–Ω—ñ—á–Ω—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ñ–∞–π–ª—É.</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=656660cb808a92be1eef2a99" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="../js/webflow.js" type="text/javascript"></script>
  <script type="module">
// –Ü–º–ø–æ—Ä—Ç—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—ó Firebase
import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js';
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js';
import { getFirestore, doc, setDoc, updateDoc, collection, getDocs, getDoc } from 'https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js';
// –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Firebase
window.firebaseConfig = {
  apiKey: "AIzaSyCDjRPuXKmQiSLcjdgYG-XW_jGlQ4i4isE",
  authDomain: "media-labirint.firebaseapp.com",
  projectId: "media-labirint",
  storageBucket: "media-labirint.firebasestorage.app",
  messagingSenderId: "1039335001528",
  appId: "1:1039335001528:web:a3c4c26916d4f50170534d",
  measurementId: "G-7L4GDB8H1Z"
};
const errorMessages = {
  "Firebase: Error (auth/invalid-credential).": "–ù–µ–≤—ñ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω –∞–±–æ –ø–∞—Ä–æ–ª—å.",
  "Firebase: Error (auth/email-already-in-use).": "–¶–µ–π –ª–æ–≥—ñ–Ω –≤–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è.",
  "Firebase: Error (auth/operation-not-allowed).": "–û–ø–µ—Ä–∞—Ü—ñ—è –Ω–µ –¥–æ–∑–≤–æ–ª–µ–Ω–∞.",
  "Firebase: Error (auth/weak-password).": "–ü–∞—Ä–æ–ª—å –∑–∞–Ω–∞–¥—Ç–æ —Å–ª–∞–±–∫–∏–π.",
  "Firebase: Error (auth/invalid-email).": "–ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥—ñ–Ω—É"
  // –î–æ–¥–∞—Ç–∏ —ñ–Ω—à—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞ –ø–æ—Ç—Ä–µ–±–æ—é
};
// –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫—ñ–º–Ω–∞—Ç
const roomsConfig = {
  room1: 1, room2: 5, room3: 3, room4: 2, room5: 3,
  room6: 1, room7: 2, room8: 3, room9: 1, room10: 1
};
// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
let email = "";
window.age = "";
window.gender = "";
const heroMap = document.getElementById('hero-map');
const heroComponent = document.getElementById('hero-component');
const helloSection = document.getElementById('section-hello');
  // –ø–æ–∫–∞–∑—É—î–º–æ —Å—Ç–∞—Ç—É—Å –∫—ñ–º–Ω–∞—Ç
window.showCompletedRooms = async function(user) {
  // –û—Ç—Ä–∏–º—É—î–º–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
  if (!user) {
    console.log("–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π");
    return;
  }
  const userId = user.uid;  // –û—Ç—Ä–∏–º—É—î–º–æ UID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
  // –û—Ç—Ä–∏–º—É—î–º–æ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ Firestore
  const userDocRef = doc(db, "users", userId);
  try {
    const userDocSnap = await getDoc(userDocRef);
    if (!userDocSnap.exists()) {
      console.log("–î–æ–∫—É–º–µ–Ω—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ");
      return;
    }
    const userData = userDocSnap.data();
    const rooms = userData.rooms;
    // –°–ø–∏—Å–æ–∫ –∫—ñ–º–Ω–∞—Ç –∑ –∂–æ—Ä—Å—Ç–∫–∏–º –ø–æ—Ä—è–¥–∫–æ–º (room1, room2, ... , room10)
    const roomNames = [
      'room1', 'room2', 'room3', 'room4', 'room5',
      'room6', 'room7', 'room8', 'room9', 'room10'
    ];
    // –ü–µ—Ä–µ–±–∏—Ä–∞—î–º–æ –∫–æ–∂–Ω—É –∫—ñ–º–Ω–∞—Ç—É –∑–∞ –ø–æ—Ä—è–¥–∫–æ–º roomNames
    roomNames.forEach((roomName) => {
      const roomData = rooms[roomName];  // –î—ñ—Å—Ç–∞–ª–∏ –¥–∞–Ω—ñ –∫—ñ–º–Ω–∞—Ç–∏
      if (!roomData) return;  // –Ø–∫—â–æ –∫—ñ–º–Ω–∞—Ç–∞ –Ω–µ —ñ—Å–Ω—É—î, –ø—Ä–æ–ø—É—Å–∫–∞—î–º–æ
      const roomStatus = roomData.status;  // –°—Ç–∞—Ç—É—Å –∫—ñ–º–Ω–∞—Ç–∏
      // –í–∏–∑–Ω–∞—á–∞—î–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –±–ª–æ–∫ –Ω–∞ —Å–∞–π—Ç—ñ –∑–∞ id
      const cardBlock = document.getElementById(`card-${roomName.replace('room', '')}`);
      // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –±–ª–æ–∫ —ñ—Å–Ω—É—î
      if (!cardBlock) return;
      // –û–Ω–æ–≤–ª—é—î–º–æ –∫–ª–∞—Å –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —Å—Ç–∞—Ç—É—Å—É –∫—ñ–º–Ω–∞—Ç–∏
      if (roomStatus === 'passed') {
        cardBlock.classList.add('completed');
        cardBlock.classList.remove('uncompleted');
      } else if (roomStatus === 'not started') {
        cardBlock.classList.add('uncompleted');
        cardBlock.classList.remove('completed');
      }
    });
  } catch (error) {
    console.error("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ Firestore:", error);
  }
};
  function linkGenerator(){
   const userId = auth.currentUser.uid;
   const map = document.getElementById ('map-grid')
   const links = map.querySelectorAll('a'); // –û—Ç—Ä–∏–º—É—î–º–æ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ <a>
   console.log(links);	
    links.forEach(link => {
        const url = new URL(link.href); // –°—Ç–≤–æ—Ä—é—î–º–æ –æ–±'—î–∫—Ç URL –¥–ª—è –ª—ñ–Ω–∫–∏
        url.searchParams.set('UID', userId); // –î–æ–¥–∞—î–º–æ –ø–∞—Ä–∞–º–µ—Ç—Ä userID
        link.href = url.toString(); // –û–Ω–æ–≤–ª—é—î–º–æ –ª—ñ–Ω–∫—É
    });
  }
 // –ø–æ–∫–∞–∑—É—î–º–æ —Å—Ç–∞—Ç—É—Å –∫—ñ–º–Ω–∞—Ç –¥–ª—è —é–∑–µ—Ä–∞ –ø–æ —ñ–¥
window.showCompletedRoomsbyUserID = async function(userId) {
  // –û—Ç—Ä–∏–º—É—î–º–æ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ Firestore
  const userDocRef = doc(db, "users", userId);
  try {
    const userDocSnap = await getDoc(userDocRef);
    if (!userDocSnap.exists()) {
      console.log("–î–æ–∫—É–º–µ–Ω—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ");
      return;
    }
    const userData = userDocSnap.data();
    const rooms = userData.rooms;
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∫—ñ–º–Ω–∞—Ç
    if (!rooms) {
      console.log("–ö—ñ–º–Ω–∞—Ç–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ");
      return;
    }
    // –°–ø–∏—Å–æ–∫ –∫—ñ–º–Ω–∞—Ç –∑ –∂–æ—Ä—Å—Ç–∫–∏–º –ø–æ—Ä—è–¥–∫–æ–º (room1, room2, ... , room10)
    const roomNames = [
      'room1', 'room2', 'room3', 'room4', 'room5',
      'room6', 'room7', 'room8', 'room9', 'room10'
    ];
    // –ü–µ—Ä–µ–±–∏—Ä–∞—î–º–æ –∫–æ–∂–Ω—É –∫—ñ–º–Ω–∞—Ç—É –∑–∞ –ø–æ—Ä—è–¥–∫–æ–º roomNames
    for (let roomName of roomNames) {
      const roomData = rooms[roomName];  // –î—ñ—Å—Ç–∞–ª–∏ –¥–∞–Ω—ñ –∫—ñ–º–Ω–∞—Ç–∏
      if (!roomData) continue;  // –Ø–∫—â–æ –∫—ñ–º–Ω–∞—Ç–∞ –Ω–µ —ñ—Å–Ω—É—î, –ø—Ä–æ–ø—É—Å–∫–∞—î–º–æ
      const roomStatus = roomData.status;  // –°—Ç–∞—Ç—É—Å –∫—ñ–º–Ω–∞—Ç–∏
      // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î —Å—Ç–∞—Ç—É—Å —ñ —á–∏ –≤—ñ–Ω –∫–æ—Ä–µ–∫—Ç–Ω–∏–π
      if (!roomStatus || typeof roomStatus !== 'string') {
        console.log(`–°—Ç–∞—Ç—É—Å –∫—ñ–º–Ω–∞—Ç–∏ ${roomName} –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π –∞–±–æ –º–∞—î –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è`);
        continue;
      }
      // –í–∏–∑–Ω–∞—á–∞—î–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –±–ª–æ–∫ –Ω–∞ —Å–∞–π—Ç—ñ –∑–∞ id
      const cardBlock = document.getElementById(`card-${roomName.replace('room', '')}`);
      // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –±–ª–æ–∫ —ñ—Å–Ω—É—î
      if (!cardBlock) {
        console.log(`–ï–ª–µ–º–µ–Ω—Ç –¥–ª—è ${roomName} –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ`);
        continue;
      }
      // –û–Ω–æ–≤–ª—é—î–º–æ –∫–ª–∞—Å –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —Å—Ç–∞—Ç—É—Å—É –∫—ñ–º–Ω–∞—Ç–∏
      if (roomStatus === 'passed') {
        cardBlock.classList.add('completed');
        cardBlock.classList.remove('uncompleted');
      } else if (roomStatus === 'not started') {
        cardBlock.classList.add('uncompleted');
        cardBlock.classList.remove('completed');
      } else {
        console.log(`–ù–µ–≤—ñ–¥–æ–º–∏–π —Å—Ç–∞—Ç—É—Å –¥–ª—è –∫—ñ–º–Ω–∞—Ç–∏ ${roomName}: ${roomStatus}`);
      }
    }
  } catch (error) {
    console.error("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ Firestore:", error);
  }
};
// –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –≤–∏–±—Ä–∞–Ω–æ–≥–æ —Ä–∞–¥—ñ–æ–±–∞—Ç–æ–Ω–∞
window.getSelectedRadioValue = (name) => {
  const radios = document.getElementsByName(name);
  for (let radio of radios) {
    if (radio.checked) {
      return radio.value;
    }
  }
  return null;
};
  //—Å–∫–∞–∑–∞—Ç–∏ –ø—Ä–∏–≤—ñ—Ç 
	function sayHello(){
       const helloUserField = document.getElementById('hello-user');
       const user = auth.currentUser;
       const email = user.email;
       const nickname = email.split('@')[0];  // –ë–µ—Ä–µ–º–æ —á–∞—Å—Ç–∏–Ω—É –¥–æ @
	   console.log(helloUserField)
        // –§–æ—Ä–º—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
       const greetingMessage = `–ü—Ä–∏–≤—ñ—Ç, ${nickname}!`;
	   console.log(greetingMessage)
      // –í—Å—Ç–∞–≤–ª—è—î–º–æ –≤ —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ
       helloUserField.innerHTML = nickname;
    }
//–ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –º–∞–ø—É
  function showMapForCurrentUser(state){
	if (state){
      sayHello();
      linkGenerator()
      heroMap.style.display = 'flex';  // –ü–æ–∫–∞–∑—É—î–º–æ –∫–∞—Ä—Ç—É
      heroComponent.style.display = 'none'; //–•–æ–≤–∞—î–º–æ hero_component
	  helloSection.style.display = 'flex'  //–ø–æ–∫–∞–∑—É—î–º–æ –ø—Ä–∏–≤—ñ—Ç 
      showCompletedRooms(auth.currentUser);
    }
    else{
	  heroMap.style.display = 'none';  // –ü–æ–∫–∞–∑—É—î–º–æ –∫–∞—Ä—Ç—É
	  document.getElementById('pop-up-log-in').style.display = 'none'
      document.getElementById('pop-up').style.display = 'none'
      document.getElementById('sign-up').style.display = 'none'
      heroComponent.style.display = 'flex';//–ø–æ–∫–∞–∑—É—î–º–æ hero_component
      helloSection.style.display = 'none'// —Ö–æ–≤–∞—î–º–æ —Å–µ–∫—Ü—ñ—é –ø—Ä–∏–≤—ñ—Ç
    }
  }
// –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
window.handleSignUp = (e) => {
  e.preventDefault();
  e.stopPropagation();
  const nickname = document.getElementById('signup-nickname').value;
  const password = document.getElementById('signup-password-2').value;
  const helpText = document.querySelector('.ms-help-text-s');
  const inputLabel = document.querySelector('.ms-input-label');
  const inputLine = document.querySelector('.ms-input');
  const nicknameRegex = /^[a-zA-Z0-9-]+$/; // –õ–∞—Ç–∏–Ω—Å—å–∫—ñ –±—É–∫–≤–∏, —Ü–∏—Ñ—Ä–∏ —Ç–∞ –¥–µ—Ñ—ñ—Å–∏ –±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤
  if (!nickname || !password || !age) {
    document.getElementById('signup-error-message').innerHTML = "–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ —Å–∏–º–≤–æ–ª—ñ–≤";
    if (helpText) helpText.classList.remove('hide-text');
    if (inputLabel) inputLabel.classList.add('error-label');
    if (inputLine) inputLine.classList.add('error-line');
    return;
  } else if (!nicknameRegex.test(nickname)) {
    document.getElementById('signup-error-message').innerHTML = "–õ–æ–≥—ñ–Ω –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –ª–∞—Ç–∏–Ω—Å—å–∫—ñ –±—É–∫–≤–∏, —Ü–∏—Ñ—Ä–∏ —Ç–∞ –¥–µ—Ñ—ñ—Å–∏ –±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤";
    if (helpText) helpText.classList.remove('hide-text');
    if (inputLabel) inputLabel.classList.add('error-label');
    if (inputLine) inputLine.classList.add('error-line');
    return;
  } else {
    if (helpText) helpText.classList.add('hide-text');
    if (inputLabel) inputLabel.classList.remove('error-label');
    if (inputLine) inputLine.classList.remove('error-line');
  }
  const email = `${nickname}@example.com.ua`;
  createUserWithEmailAndPassword(auth, email, password)
    .then(({ user }) => {
      window.userUID = user.uid;
      localStorage.setItem('UID', user.uid);
      initializeUserRooms(user.uid, nickname, email, age, gender);
      showMapForCurrentUser(true)
    })
    .catch((error) => {
      const errorMessage = errorMessages[error.message] || error.message;
      document.getElementById('signup-error-message').innerHTML = errorMessage;
      if (helpText) helpText.classList.add('hide-text');
      if (inputLabel) inputLabel.classList.add('error-label');
      if (inputLine) inputLine.classList.add('error-line');
    });
};
// –í—Ö—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
window.handleSignIn = (e) => {
  e.preventDefault();
  e.stopPropagation();
  const nickname = document.getElementById('signin-nickname').value;
  const password = document.getElementById('signin-password').value;
  const email = `${nickname}@example.com.ua`;
	console.log(nickname)
  	console.log(password)
  signInWithEmailAndPassword(auth, email, password)
    .then(({ user }) => {
      window.userUID = user.uid;
      console.log(user.uid)
      localStorage.setItem('UID', user.uid);
      showMapForCurrentUser(true)
    })
    .catch((error) => {
    const errorMessage = errorMessages[error.message] || error.message;  // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –º–∞–ø—É –∞–±–æ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏–≤–æ–¥–∏–º–æ –∞–Ω–≥–ª—ñ–π—Å—å–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
      document.getElementById('signin-error-message').innerHTML = errorMessage;
    });
};
// –í–∏—Ö—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
window.handleSignOut = () => {
  signOut(auth)
    .then(() => {
      console.log('User signed out');
      showMapForCurrentUser(false)
     const form = document.getElementById('wf-form-Form-Gender');
    console.log(form)
     form.reset();
    window.location.replace(window.location.href);
    })
    .catch((error) => {
      console.log('Error signing out:', error.message);
    });
};
// –í—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
window.checkUserAuth = () => {
  onAuthStateChanged(auth, (user) => {
    if (user) {
     showMapForCurrentUser(true) 
     console.log('User is signed in:', user);
    } else {
      showMapForCurrentUser(false)
      console.log('User is signed out');
    }
  });
};
// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
async function initializeUserRooms(userId, nickname, email, age, gender) {
  const userDocRef = doc(db, "users", userId);
  const userData = { name: nickname, email, age, gender, rooms: {} };
  for (const [roomName, interactiveCount] of Object.entries(roomsConfig)) {
    const roomData = {};
    for (let i = 1; i <= interactiveCount; i++) {
      roomData[`interactive${i}`] = "";
    }
    roomData.status = "not started";
    userData.rooms[roomName] = roomData;
  }
  await setDoc(userDocRef, userData);
  console.log(`User data initialized for ${userId}`);
}
// –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –≤—ñ–∫–æ–≤–∏—Ö –≥—Ä—É–ø —Ç–∞ –∫—ñ–º–Ω–∞—Ç
window.fetchData = async () => {
  const usersCollectionRef = collection(db, "users");
  const usersSnapshot = await getDocs(usersCollectionRef);
  const usersData = usersSnapshot.docs.map(doc => doc.data());
  const ageGroups = { "10-16": 0, "17-25": 0, "26-35": 0, "36-45": 0, "46-59": 0, "60+": 0 };
  const roomsData = {};
  usersData.forEach(user => {
    const { age, rooms } = user;
    if (ageGroups[age]) ageGroups[age]++;
    Object.keys(rooms).forEach(roomName => {
      const roomStatus = rooms[roomName].status;
      if (!roomsData[roomName]) roomsData[roomName] = { notStarted: 0, inProgress: 0, passed: 0, failed: 0 };
      roomsData[roomName][roomStatus]++;
    });
  });
  return { ageGroups, roomsData };
};
// –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∫—ñ–º–Ω–∞—Ç–∏
async function updateRoomStatus(userId, room) {
  const userDocRef = doc(db, "users", userId);
  const userDocSnap = await getDoc(userDocRef);
  if (!userDocSnap.exists()) return console.log("User document not found");
  const userData = userDocSnap.data();
  const roomData = userData.rooms[room];
  let roomStatus = "test";
  let hasEmpty = false;
  let allPassedOrFailed = true; // –ü–æ—á–∞—Ç–∫–æ–≤–æ –ø—Ä–∏–ø—É—Å–∫–∞—î–º–æ, —â–æ –≤—Å—ñ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–∏ –º–∞—é—Ç—å —Å—Ç–∞—Ç—É—Å "passed" –∞–±–æ "failed"
  for (const [interactiveKey, result] of Object.entries(roomData)) {
    if (result === "") {
      hasEmpty = true;
      break; // –Ø–∫—â–æ —î –ø–æ—Ä–æ–∂–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è, –∑—É–ø–∏–Ω—è—î–º–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É
    }
    if (result !== "failed" && result !== "passed" && result !== "not started") {
      allPassedOrFailed = false; // –Ø–∫—â–æ —î —Å—Ç–∞—Ç—É—Å, —è–∫–∏–π –Ω–µ "failed" –∞–±–æ "passed", —Å—Ç–∞–≤–∏–º–æ allPassedOrFailed –≤ false
    }
  }
console.log("hasEmpty " + hasEmpty)
  console.log("allPassedOrFailed "+ allPassedOrFailed)
  // –Ø–∫—â–æ —Ö–æ—á–∞ –± –æ–¥–∏–Ω —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ –ø–æ—Ä–æ–∂–Ω—ñ–π, –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞—Ç—É—Å "not started"
  if (hasEmpty) {
    roomStatus = "not started";
  }
  // –Ø–∫—â–æ –≤—Å—ñ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–∏ –º–∞—é—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è "passed" –∞–±–æ "failed", —ñ –∂–æ–¥–µ–Ω –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π, –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞—Ç—É—Å "passed"
  else if (allPassedOrFailed) {
    roomStatus = "passed";
  }
  // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞—Ç—É—Å –∫—ñ–º–Ω–∞—Ç–∏
  await updateDoc(userDocRef, { [`rooms.${room}.status`]: roomStatus });
  console.log(`–°—Ç–∞—Ç—É—Å –∫—ñ–º–Ω–∞—Ç–∏ ${room} –æ–Ω–æ–≤–ª–µ–Ω–∏–π –Ω–∞ ${roomStatus}`);
}
// –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—É
window.updateValueInRoom = async (room, index, result) => {
  //const user = auth.currentUser;
  //if (!user) return console.log('–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π');
	checkUserAuth();
  //const userId = user.uid;
  const userId = localStorage.getItem('UID')
  const userDocRef = doc(db, "users", userId);
  const interactiveKey = `interactive${index + 1}`;
  try {
    await updateDoc(userDocRef, { [`rooms.${room}.${interactiveKey}`]: result });
    console.log(`–ó–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è ${interactiveKey} –≤ –∫—ñ–º–Ω–∞—Ç—ñ ${room} —É—Å–ø—ñ—à–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ!`);
    await updateRoomStatus(userId, room);
  } catch (error) {
    console.error("–ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥ —á–∞—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —É Firestore:", error);
  }
};
// –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
window.generateTestUsers = async (numUsers) => {
  for (let i = 0; i < numUsers; i++) {
    const userId = `user${i + 1}`;
    const username = `User ${i + 1}`;
    const email = `user${i + 1}@example.com`;
    const age = Math.floor(Math.random() * 100);
    await initializeUserRooms(userId, username, email, age);
    for (const roomName of Object.keys(roomsConfig)) {
      const roomData = {};
      for (let i = 1; i <= roomsConfig[roomName]; i++) {
        roomData[`interactive${i}`] = ["", "passed", "failed"][Math.floor(Math.random() * 3)];
      }
      roomData.status = "not started";
      const userDocRef = doc(db, "users", userId);
      await updateDoc(userDocRef, { [`rooms.${roomName}`]: roomData });
      await updateRoomStatus(userId, roomName);
    }
    console.log(`Test user ${userId} generated and room statuses updated.`);
  }
};
  window.fetchInteractiveData = async function () {
    // –û—Ç—Ä–∏–º—É—î–º–æ –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
    const usersSnapshot = await getDocs(collection(db, "users"));
    // –ú–∞–ø–∞ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø–æ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–∞—Ö
    const interactiveData = {};
    // –ü—Ä–æ—Ö–æ–¥–∏–º–æ –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    usersSnapshot.forEach(doc => {
        const userData = doc.data();
        // –î–ª—è –∫–æ–∂–Ω–æ—ó –∫—ñ–º–Ω–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
        Object.keys(userData.rooms).forEach(roomName => {
            const roomData = userData.rooms[roomName];
            // –î–ª—è –∫–æ–∂–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—É –≤ –∫—ñ–º–Ω–∞—Ç—ñ
            Object.keys(roomData).forEach(interactive => {
                if (interactive.startsWith('interactive')) {
                    const status = roomData[interactive]; // –°—Ç–∞—Ç—É—Å —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—É: 'pass', 'fail' –∞–±–æ ""
                    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—É –≤ –∫—ñ–º–Ω–∞—Ç—ñ, —è–∫—â–æ —ó—Ö —â–µ –Ω–µ–º–∞—î
                    if (!interactiveData[roomName]) {
                        interactiveData[roomName] = {};
                    }
                    if (!interactiveData[roomName][interactive]) {
                        interactiveData[roomName][interactive] = { pass: 0, fail: 0, notStarted: 0 };
                    }
                    // –ü—ñ–¥—Ä–∞—Ö–æ–≤—É—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–∞—Ç—É—Å—ñ–≤
                    if (status === 'passed') {
                        interactiveData[roomName][interactive].pass++;
                    } else if (status === 'failed') {
                        interactiveData[roomName][interactive].fail++;
                    } else {
                        interactiveData[roomName][interactive].notStarted++;
                    }
                }
            });
        });
    });
    return interactiveData;  
}
</script>
</body>
</html>